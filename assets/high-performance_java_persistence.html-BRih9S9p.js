import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,e as i,o as n}from"./app-DTUKMdfu.js";const r="/assets/image-BP9yjLjw.png",p={};function s(l,e){return n(),t("div",null,e[0]||(e[0]=[i('<h1 id="前言" tabindex="-1"><a class="header-anchor" href="#前言"><span>前言</span></a></h1><p>在企业系统中，设计合理的数据库访问层可以对整体应用程序性能产生重大影响。根据 AppDynamics3 的数据，超过一半的应用程序性能瓶颈源于数据库。数据分布在各种结构（表行、索引节点）中，数据库记录可以被多个并发用户读取和写入。从并发的角度来看，这是一个极具挑战性的任务，为了最大限度地发挥持久层的作用，数据访问逻辑必须与底层数据库系统相匹配。</p><figure><img src="'+r+'" alt="alt text" tabindex="0" loading="lazy"><figcaption>alt text</figcaption></figure><p>典型的关系数据库管理系统（RDBMS）数据访问层需要掌握多种技术，而整个企业解决方案的强度取决于团队中最薄弱的技能。在深入到更高抽象层（例如对象关系映射（ORM）框架）之前，最好先攻克底层技术。</p><h2 id="数据库服务器和连接层" tabindex="-1"><a class="header-anchor" href="#数据库服务器和连接层"><span>数据库服务器和连接层</span></a></h2><p>数据库手册并非仅供数据库管理员使用。在不了解数据库工作原理的情况下与其交互，就像驾驶赛车却不接受任何驾驶培训一样。熟悉 SQL 标准和数据库特有的功能，能够决定应用程序的运行速度是高性能还是慢如蜗牛。对数据库可移植性的担忧可能会导致人们因为某些功能在不同数据库系统之间无法互换而放弃使用它们。实际上，数据库层运行缓慢的情况比将一个正在运行的系统移植到新的数据库解决方案更为常见。</p><p>所有数据访问框架都依赖 JDBC（Java 数据库连接）API 与数据库服务器通信。JDBC 提供了许多性能优化技术，旨在缩短事务响应时间并处理更多流量。因此，本书的第一部分专门介绍 JDBC 和数据库基础知识，涵盖数据库连接管理、语句批处理、结果集获取和数据库事务等主题。</p><h2 id="应用数据访问层" tabindex="-1"><a class="header-anchor" href="#应用数据访问层"><span>应用数据访问层</span></a></h2><p>许多企业应用场景中都证明了某些数据访问模式的有效性。Martin Fowler 的《企业应用架构模式》是每位企业应用开发人员的必读之作。除了对象关系映射 (ORM) 模式之外，大多数 ORM 框架还采用了诸如工作单元 (Unit of Work)、身份映射 (Identity Map)、延迟加载 (Lazy Loading)、嵌入值 (Embedded Value)、实体继承 (Entity Inheritance) 或乐观锁和悲观锁等技术。</p><h3 id="orm框架" tabindex="-1"><a class="header-anchor" href="#orm框架"><span>ORM框架</span></a></h3><p>ORM工具可以提升应用程序的开发速度，但其学习曲线无疑十分陡峭。要解决将关系数据与应用程序领域模型桥接起来的固有复杂性，唯一的方法就是完全理解所使用的ORM框架。</p><p>有时，即使是参考文档也可能不够，当遇到性能相关问题时，熟悉源代码是不可避免的。JPA（Java持久化API）在数据写入方面表现出色，因为所有DML（数据操作语言）语句都会在持久化模型更改时自动更新，从而加快迭代开发过程。</p><p>本书第二部分介绍了各种Hibernate特有的优化技术，例如标识符生成器、高效的实体获取、状态转换、应用程序级事务和实体缓存。</p><h3 id="本地查询构建框架" tabindex="-1"><a class="header-anchor" href="#本地查询构建框架"><span>本地查询构建框架</span></a></h3><p>JPA 和 Hibernate 从来不是用来替代 SQL 的，并且在任何非平凡的企业应用中，本地查询都是不可避免的。虽然 JPA 可以抽象 DML 语句和常见的实体检索查询，但在读取和处理数据时，没有什么可以胜过本地 SQL。</p><p>JPQL（Java 持久化查询语言）抽象了大多数关系型数据库支持的常见 SQL 语法。因此，JPQL 无法利用窗口函数、公共表表达式、派生表或 PIVOT。</p><p>与 JPA 不同，jOOQ（Java 面向对象查询）提供了类型安全的 API，它支持底层数据库系统提供的任何数据库特定查询功能。正如 Criteria API 在动态生成实体查询时能防止 SQL 注入攻击一样，jOOQ 在构建本地 SQL 语句时也提供了相同的安全保障。</p><p>因此，本书的第三部分是关于高级查询的。</p>',18)]))}const h=a(p,[["render",s],["__file","high-performance_java_persistence.html.vue"]]),m=JSON.parse('{"path":"/tech-week/2025/high-performance_java_persistence.html","title":"Java 持久化","lang":"zh-CN","frontmatter":{"title":"Java 持久化","category":["技术"],"tag":["专栏"]},"headers":[{"level":2,"title":"数据库服务器和连接层","slug":"数据库服务器和连接层","link":"#数据库服务器和连接层","children":[]},{"level":2,"title":"应用数据访问层","slug":"应用数据访问层","link":"#应用数据访问层","children":[{"level":3,"title":"ORM框架","slug":"orm框架","link":"#orm框架","children":[]},{"level":3,"title":"本地查询构建框架","slug":"本地查询构建框架","link":"#本地查询构建框架","children":[]}]}],"git":{"createdTime":1762154451000,"updatedTime":1762154451000,"contributors":[{"name":"RaymondLam1","username":"RaymondLam1","email":"liangfenglam@163.com","commits":1,"url":"https://github.com/RaymondLam1"}]},"readingTime":{"minutes":3.75,"words":1125},"filePathRelative":"tech-week/2025/high-performance_java_persistence.md","localizedDate":"2025年11月3日","excerpt":"\\n<p>在企业系统中，设计合理的数据库访问层可以对整体应用程序性能产生重大影响。根据 AppDynamics3 的数据，超过一半的应用程序性能瓶颈源于数据库。数据分布在各种结构（表行、索引节点）中，数据库记录可以被多个并发用户读取和写入。从并发的角度来看，这是一个极具挑战性的任务，为了最大限度地发挥持久层的作用，数据访问逻辑必须与底层数据库系统相匹配。</p>\\n<figure><figcaption>alt text</figcaption></figure>\\n<p>典型的关系数据库管理系统（RDBMS）数据访问层需要掌握多种技术，而整个企业解决方案的强度取决于团队中最薄弱的技能。在深入到更高抽象层（例如对象关系映射（ORM）框架）之前，最好先攻克底层技术。</p>"}');export{h as comp,m as data};
