<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.70" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <title>Ch03. Searching Files | 记录点滴</title><meta name="description" content="Raymondlam1 的博客演示">
    <link rel="preload" href="/assets/style-D--w8Xk8.css" as="style"><link rel="stylesheet" href="/assets/style-D--w8Xk8.css">
    <link rel="modulepreload" href="/assets/app-LYoE2cxB.js"><link rel="modulepreload" href="/assets/ch03_searching_files.html-DjMQbfjR.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-C-eInOhP.js" as="script"><link rel="prefetch" href="/assets/intro.html-Bs2HOzVL.js" as="script"><link rel="prefetch" href="/assets/index.html-DNUQnWve.js" as="script"><link rel="prefetch" href="/assets/index.html-BCUG2KtN.js" as="script"><link rel="prefetch" href="/assets/index.html-CbWBL3OW.js" as="script"><link rel="prefetch" href="/assets/finalize.html-Yj-cARHX.js" as="script"><link rel="prefetch" href="/assets/index.html-BBPDI4CB.js" as="script"><link rel="prefetch" href="/assets/ch00.html-CViRjdDM.js" as="script"><link rel="prefetch" href="/assets/ch01.html-C2E4E6Sj.js" as="script"><link rel="prefetch" href="/assets/ch02.html-Du3eZbom.js" as="script"><link rel="prefetch" href="/assets/ch04_vim_grammar.html-Cu0SzOqj.js" as="script"><link rel="prefetch" href="/assets/2025-01-04.html-g4rn-lav.js" as="script"><link rel="prefetch" href="/assets/2025-01-11.html-V1R-_dUd.js" as="script"><link rel="prefetch" href="/assets/2025-01-18.html-DtszrLHJ.js" as="script"><link rel="prefetch" href="/assets/2025-02-01.html-CrTFtneA.js" as="script"><link rel="prefetch" href="/assets/404.html-DZkebM9r.js" as="script"><link rel="prefetch" href="/assets/index.html-YV2T0Ba7.js" as="script"><link rel="prefetch" href="/assets/index.html-BzVqsIln.js" as="script"><link rel="prefetch" href="/assets/index.html-BZ4PW2E_.js" as="script"><link rel="prefetch" href="/assets/index.html-2vhlHzEz.js" as="script"><link rel="prefetch" href="/assets/index.html-D8-1TbwB.js" as="script"><link rel="prefetch" href="/assets/index.html-CTUN0A_X.js" as="script"><link rel="prefetch" href="/assets/index.html-Crc-Yu1X.js" as="script"><link rel="prefetch" href="/assets/index.html-BbPybu1G.js" as="script"><link rel="prefetch" href="/assets/index.html-DrOnNu1I.js" as="script"><link rel="prefetch" href="/assets/index.html-CHZ629IA.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-CMg0yb1C.js" as="script"><link rel="prefetch" href="/assets/giscus-B3IT9xos.js" as="script"><link rel="prefetch" href="/assets/index-BuSDX0kZ.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-DPqBfdCT.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/" aria-label="带我回家"><img class="vp-nav-logo" src="/assets/images/WechatIMG8.jpg" alt><!----><span class="vp-site-name hide-in-pad">记录点滴</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="主页" iconsizing="height"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:house" height="1em" sizing="height"></iconify-icon><!--]-->主页<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link route-link-active auto-link" href="/blog/" aria-label="技术" iconsizing="height"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:pen-to-square" height="1em" sizing="height"></iconify-icon><!--]-->技术<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/tech-week/" aria-label="周刊" iconsizing="height"><!--[--><iconify-icon class="vp-icon" icon="fa6-solid:blog" height="1em" sizing="height"></iconify-icon><!--]-->周刊<!----></a></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!----><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="vp-icon" icon="fa6-solid:laptop-code" height="1em" sizing="height"></iconify-icon><span class="vp-sidebar-title">Java 基础技术</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><iconify-icon class="vp-icon" icon="fa6-solid:laptop-code" height="1em" sizing="height"></iconify-icon><span class="vp-sidebar-title">Learn Vim</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/blog/vim/ch00.html" aria-label="Ch00. Read This First" iconsizing="both"><!---->Ch00. Read This First<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/vim/ch01.html" aria-label="Ch01. Starting Vim" iconsizing="both"><!---->Ch01. Starting Vim<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/vim/ch02.html" aria-label="Ch02. Buffers, Windows, and Tabs" iconsizing="both"><!---->Ch02. Buffers, Windows, and Tabs<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/blog/vim/ch03_searching_files.html" aria-label="Ch03. Searching Files" iconsizing="both"><!---->Ch03. Searching Files<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/vim/ch04_vim_grammar.html" aria-label="Ch04. Vim Grammar" iconsizing="both"><!---->Ch04. Vim Grammar<!----></a></li></ul></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Ch03. Searching Files</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/RaymondLam1" target="_blank" rel="noopener noreferrer">Raymondlam1</a></span><span property="author" content="Raymondlam1"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025年1月24日</span><meta property="datePublished" content="2025-01-24T09:33:03.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 10 分钟</span><meta property="timeRequired" content="PT10M"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color4 clickable" role="navigation">技术</span><!--]--><meta property="articleSection" content="技术"></span><span class="page-tag-info" aria-label="标签🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color3 clickable" role="navigation">Vim</span><!--]--><meta property="keywords" content="Vim"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><!--[--><div class="vp-toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#opening-and-editing-files">Opening and Editing Files</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#searching-files-with-find">Searching Files With Find</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#find-and-path">Find and Path</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#searching-in-files-with-grep">Searching in Files With Grep</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#browsing-files-with-netrw">Browsing Files With Netrw</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#fzf">Fzf</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#setup">Setup</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#fzf-syntax">Fzf Syntax</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#finding-files">Finding Files</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#finding-in-files">Finding in Files</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#other-searches">Other Searches</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#replacing-grep-with-rg">Replacing Grep With Rg</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#search-and-replace-in-multiple-files">Search and Replace in Multiple Files</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#learn-search-the-smart-way">Learn Search the Smart Way</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!--]--><!----></aside></div><!----><div class="theme-hope-content" vp-content><p>介绍快速打开、搜索文件的 <code>:find</code>,<code>:vim</code>,<code>:grep</code>，使用 vim 支持现代编辑器中多文件文本替换功能。</p><!-- more --><h1 id="ch03-searching-files" tabindex="-1"><a class="header-anchor" href="#ch03-searching-files"><span>Ch03. Searching Files</span></a></h1><p>The goal of this chapter is to give you an introduction on how to search quickly in Vim. Being able to search quickly is a great way to jump-start your Vim productivity. When I figured out how to search files quickly, I made the switch to use Vim full-time.</p><p>This chapter is divided into two parts: how to search without plugins and how to search with <a href="https://github.com/junegunn/fzf.vim" target="_blank" rel="noopener noreferrer">fzf.vim</a> plugin. Let&#39;s get started!</p><h2 id="opening-and-editing-files" tabindex="-1"><a class="header-anchor" href="#opening-and-editing-files"><span>Opening and Editing Files</span></a></h2><p>To open a file in Vim, you can use <code>:edit</code>.</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>:edit file.txt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>If <code>file.txt</code> exists, it opens the <code>file.txt</code> buffer. If <code>file.txt</code> doesn&#39;t exist, it creates a new buffer for <code>file.txt</code>.</p><p>Autocomplete with <code>&lt;Tab&gt;</code> works with <code>:edit</code>. For example, if your file is inside a <a href="https://rubyonrails.org/" target="_blank" rel="noopener noreferrer">Rails</a> <em>a</em>pp <em>c</em>ontroller <em>u</em>sers controller directory <code>./app/controllers/users_controllers.rb</code>, you can use <code>&lt;Tab&gt;</code> to expand the terms quickly:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>:edit a&lt;Tab&gt;c&lt;Tab&gt;u&lt;Tab&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>:edit</code> accepts wildcards arguments. <code>*</code> matches any file in the current directory. If you are only looking for files with <code>.yml</code> extension in the current directory:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>:edit *.yml&lt;Tab&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Vim will give you a list of all <code>.yml</code> files in the current directory to choose from.</p><p>You can use <code>**</code> to search recursively. If you want to look for all <code>*.md</code> files in your project, but you are not sure in which directories, you can do this:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>:edit **/*.md&lt;Tab&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>:edit</code> can be used to run <code>netrw</code>, Vim&#39;s built-in file explorer. To do that, give <code>:edit</code> a directory argument instead of file:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>:edit .</span></span>
<span class="line"><span>:edit test/unit/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="searching-files-with-find" tabindex="-1"><a class="header-anchor" href="#searching-files-with-find"><span>Searching Files With Find</span></a></h2><p>You can find files with <code>:find</code>. For example:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>:find package.json</span></span>
<span class="line"><span>:find app/controllers/users_controller.rb</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Autocomplete also works with <code>:find</code>:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>:find p&lt;Tab&gt;                &quot; to find package.json</span></span>
<span class="line"><span>:find a&lt;Tab&gt;c&lt;Tab&gt;u&lt;Tab&gt;    &quot; to find app/controllers/users_controller.rb</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>You may notice that <code>:find</code> looks like <code>:edit</code>. What&#39;s the difference?</p><h2 id="find-and-path" tabindex="-1"><a class="header-anchor" href="#find-and-path"><span>Find and Path</span></a></h2><p>The difference is that <code>:find</code> finds file in <code>path</code>, <code>:edit</code> doesn&#39;t. Let&#39;s learn a little bit about <code>path</code>. Once you learn how to modify your paths, <code>:find</code> can become a powerful searching tool. To check what your paths are, do:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>:set path?</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>By default, yours probably look like this:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>path=.,/usr/include,,</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><code>.</code> means to search in the directory of the currently opened file.</li><li><code>,</code> means to search in the current directory.</li><li><code>/usr/include</code> is the typical directory for C libraries header files.</li></ul><p>The first two are important in our context and the third one can be ignored for now. The takeaway here is that you can modify your own paths, where Vim will look for files. Let&#39;s assume this is your project structure:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>app/</span></span>
<span class="line"><span>  assets/</span></span>
<span class="line"><span>  controllers/</span></span>
<span class="line"><span>    application_controller.rb</span></span>
<span class="line"><span>    comments_controller.rb</span></span>
<span class="line"><span>    users_controller.rb</span></span>
<span class="line"><span>    ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you want to go to <code>users_controller.rb</code> from the root directory, you have to go through several directories (and pressing a considerable amount of tabs). Often when working with a framework, you spend 90% of your time in a particular directory. In this situation, you only care about going to the <code>controllers/</code> directory with the least amount of keystrokes. The <code>path</code> setting can shorten that journey.</p><p>You need to add the <code>app/controllers/</code> to the current <code>path</code>. Here is how you can do it:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>:set path+=app/controllers/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Now that your path is updated, when you type <code>:find u&lt;Tab&gt;</code>, Vim will now search inside <code>app/controllers/</code> directory for files starting with &quot;u&quot;.</p><p>If you have a nested <code>controllers/</code> directory, like <code>app/controllers/account/users_controller.rb</code>, Vim won&#39;t find <code>users_controllers</code>. Instead, you need to add <code>:set path+=app/controllers/**</code> in order for autocompletion will find <code>users_controller.rb</code>. This is great! Now you can find the users controller with 1 press of tab instead of 3.</p><p>You might be thinking to add the entire project directories so when you press <code>tab</code>, Vim will search everywhere for that file, like this:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>:set path+=$PWD/**</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>$PWD</code> is the current working directory. If you try to add your entire project to <code>path</code> hoping to make all files reachable upon a <code>tab</code> press, although this may work for a small project, doing this will slow down your search significantly if you have a large number of files in your project. I recommend adding only the <code>path</code> of your most visited files / directories.</p><p>You can add the <code>set path+={your-path-here}</code> in your vimrc. Updating <code>path</code> takes only a few seconds and doing so can save you a lot of time.</p><h2 id="searching-in-files-with-grep" tabindex="-1"><a class="header-anchor" href="#searching-in-files-with-grep"><span>Searching in Files With Grep</span></a></h2><p>If you need to find in files (find phrases in files), you can use grep. Vim has two ways of doing that:</p><ul><li>Internal grep (<code>:vim</code>. Yes, it is spelled <code>:vim</code>. It is short for <code>:vimgrep</code>).</li><li>External grep (<code>:grep</code>).</li></ul><p>Let&#39;s go through internal grep first. <code>:vim</code> has the following syntax:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>:vim /pattern/ file</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><code>/pattern/</code> is a regex pattern of your search term.</li><li><code>file</code> is the file argument. You can pass multiple arguments. Vim will search for the pattern inside the file argument. Similar to <code>:find</code>, you can pass it <code>*</code> and <code>**</code> wildcards.</li></ul><p>For example, to look for all occurrences of &quot;breakfast&quot; string inside all ruby files (<code>.rb</code>) inside <code>app/controllers/</code> directory:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>:vim /breakfast/ app/controllers/**/*.rb</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>After running that, you will be redirected to the first result. Vim&#39;s <code>vim</code> search command uses <code>quickfix</code> operation. To see all search results, run <code>:copen</code>. This opens a <code>quickfix</code> window. Here are some useful quickfix commands to get you productive immediately:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>:copen        Open the quickfix window</span></span>
<span class="line"><span>:cclose       Close the quickfix window</span></span>
<span class="line"><span>:cnext        Go to the next error</span></span>
<span class="line"><span>:cprevious    Go to the previous error</span></span>
<span class="line"><span>:colder       Go to the older error list</span></span>
<span class="line"><span>:cnewer       Go to the newer error list</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>To learn more about quickfix, check out <code>:h quickfix</code>.</p><p>You may notice that running internal grep (<code>:vim</code>) can get slow if you have a large number of matches. This is because Vim loads each matching file into memory, as if it were being edited. If Vim finds a large number of files matching your search, it will load them all and therefore consume a large amount of memory.</p><p>Let&#39;s talk about external grep. By default, it uses <code>grep</code> terminal command. To search for &quot;lunch&quot; inside a ruby file inside <code>app/controllers/</code> directory, you can do this:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>:grep -R &quot;lunch&quot; app/controllers/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Note that instead of using <code>/pattern/</code>, it follows the terminal grep syntax <code>&quot;pattern&quot;</code>. It also displays all matches using <code>quickfix</code>.</p><p>Vim defines the <code>grepprg</code> variable to determine which external program to run when running the <code>:grep</code> Vim command so that you don&#39;t have to close Vim and invoke the terminal <code>grep</code> command. Later, I will show you how to change the default program invoked when using the <code>:grep</code> Vim command.</p><h2 id="browsing-files-with-netrw" tabindex="-1"><a class="header-anchor" href="#browsing-files-with-netrw"><span>Browsing Files With Netrw</span></a></h2><p><code>netrw</code> is Vim&#39;s built-in file explorer. It is useful to see a project&#39;s hierarchy. To run <code>netrw</code>, you need these two settings in your <code>.vimrc</code>:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>set nocp</span></span>
<span class="line"><span>filetype plugin on</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Since <code>netrw</code> is a vast topic, I will only cover the basic usage, but it should be enough to get you started. You can start <code>netrw</code> when you launch Vim by passing it a directory as a parameter instead of a file. For example:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>vim .</span></span>
<span class="line"><span>vim src/client/</span></span>
<span class="line"><span>vim app/controllers/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>To launch <code>netrw</code> from inside Vim, you can use the <code>:edit</code> command and pass it a directory parameter instead of a filename:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>:edit .</span></span>
<span class="line"><span>:edit src/client/</span></span>
<span class="line"><span>:edit app/controllers/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>There are other ways to launch <code>netrw</code> window without passing a directory:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>:Explore     Starts netrw on current file</span></span>
<span class="line"><span>:Sexplore    No kidding. Starts netrw on split top half of the screen</span></span>
<span class="line"><span>:Vexplore    Starts netrw on split left half of the screen</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You can navigate <code>netrw</code> with Vim motions (motions will be covered in depth in a later chapter). If you need to create, delete, or rename a file or directory, here is a list of useful <code>netrw</code> commands:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>%    Create a new file</span></span>
<span class="line"><span>d    Create a new directory</span></span>
<span class="line"><span>R    Rename a file or directory</span></span>
<span class="line"><span>D    Delete a file or directory</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>:h netrw</code> is very comprehensive. Check it out if you have time.</p><p>If you find <code>netrw</code> too bland and need more flavor, <a href="https://github.com/tpope/vim-vinegar" target="_blank" rel="noopener noreferrer">vim-vinegar</a> is a good plugin to improve <code>netrw</code>. If you&#39;re looking for a different file explorer, <a href="https://github.com/preservim/nerdtree" target="_blank" rel="noopener noreferrer">NERDTree</a> is a good alternative. Check them out!</p><h2 id="fzf" tabindex="-1"><a class="header-anchor" href="#fzf"><span>Fzf</span></a></h2><p>Now that you&#39;ve learned how to search files in Vim with built-in tools, let&#39;s learn how to do it with plugins.</p><p>One thing that modern text editors get right and that Vim didn&#39;t is how easy it is to find files, especially via fuzzy search. In this second half of the chapter, I will show you how to use <a href="https://github.com/junegunn/fzf.vim" target="_blank" rel="noopener noreferrer">fzf.vim</a> to make searching in Vim easy and powerful.</p><h2 id="setup" tabindex="-1"><a class="header-anchor" href="#setup"><span>Setup</span></a></h2><p>First, make sure you have <a href="https://github.com/junegunn/fzf" target="_blank" rel="noopener noreferrer">fzf</a> and <a href="https://github.com/BurntSushi/ripgrep" target="_blank" rel="noopener noreferrer">ripgrep</a> downloaded. Follow the instruction on their github repo. The commands <code>fzf</code> and <code>rg</code> should now be available after successful installs.</p><p>Ripgrep is a search tool much like grep (hence the name). It is generally faster than grep and has many useful features. Fzf is a general-purpose command-line fuzzy finder. You can use it with any commands, including ripgrep. Together, they make a powerful search tool combination.</p><p>Fzf does not use ripgrep by default, so we need to tell fzf to use ripgrep by defining a <code>FZF_DEFAULT_COMMAND</code> variable. In my <code>.zshrc</code> (<code>.bashrc</code> if you use bash), I have these:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>if type rg &amp;&gt; /dev/null; then</span></span>
<span class="line"><span>  export FZF_DEFAULT_COMMAND=&#39;rg --files&#39;</span></span>
<span class="line"><span>  export FZF_DEFAULT_OPTS=&#39;-m&#39;</span></span>
<span class="line"><span>fi</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Pay attention to <code>-m</code> in <code>FZF_DEFAULT_OPTS</code>. This option allows us to make multiple selections with <code>&lt;Tab&gt;</code> or <code>&lt;Shift-Tab&gt;</code>. You don&#39;t need this line to make fzf work with Vim, but I think it is a useful option to have. It will come in handy when you want to perform search and replace in multiple files which I&#39;ll cover in just a little. The fzf command accepts many more options, but I won&#39;t cover them here. To learn more, check out <a href="https://github.com/junegunn/fzf#usage" target="_blank" rel="noopener noreferrer">fzf&#39;s repo</a> or <code>man fzf</code>. At minimum you should have <code>export FZF_DEFAULT_COMMAND=&#39;rg&#39;</code>.</p><p>After installing fzf and ripgrep, let&#39;s set up the fzf plugin. I am using <a href="https://github.com/junegunn/vim-plug" target="_blank" rel="noopener noreferrer">vim-plug</a> plugin manager in this example, but you can use any plugin managers.</p><p>Add these inside your <code>.vimrc</code> plugins. You need to use <a href="https://github.com/junegunn/fzf.vim" target="_blank" rel="noopener noreferrer">fzf.vim</a> plugin (created by the same fzf author).</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>call plug#begin()</span></span>
<span class="line"><span>Plug &#39;junegunn/fzf.vim&#39;</span></span>
<span class="line"><span>Plug &#39;junegunn/fzf&#39;, { &#39;do&#39;: { -&gt; fzf#install() } }</span></span>
<span class="line"><span>call plug#end()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>After adding these lines, you will need to open <code>vim</code> and run <code>:PlugInstall</code>. It will install all plugins that are defined in your <code>vimrc</code> file and are not installed. In our case, it will install <code>fzf.vim</code> and <code>fzf</code>.</p><p>For more info about this plugin, you can check out <a href="https://github.com/junegunn/fzf/blob/master/README-VIM.md" target="_blank" rel="noopener noreferrer">fzf.vim repo</a>.</p><h2 id="fzf-syntax" tabindex="-1"><a class="header-anchor" href="#fzf-syntax"><span>Fzf Syntax</span></a></h2><p>To use fzf efficiently, you should learn some basic fzf syntax. Fortunately, the list is short:</p><ul><li><code>^</code> is a prefix exact match. To search for a phrase starting with &quot;welcome&quot;: <code>^welcome</code>.</li><li><code>$</code> is a suffix exact match. To search for a phrase ending with &quot;my friends&quot;: <code>friends$</code>.</li><li><code>&#39;</code> is an exact match. To search for the phrase &quot;welcome my friends&quot;: <code>&#39;welcome my friends</code>.</li><li><code>|</code> is an &quot;or&quot; match. To search for either &quot;friends&quot; or &quot;foes&quot;: <code>friends | foes</code>.</li><li><code>!</code> is an inverse match. To search for phrase containing &quot;welcome&quot; and not &quot;friends&quot;: <code>welcome !friends</code></li></ul><p>You can mix and match these options. For example, <code>^hello | ^welcome friends$</code> will search for the phrase starting with either &quot;welcome&quot; or &quot;hello&quot; and ending with &quot;friends&quot;.</p><h2 id="finding-files" tabindex="-1"><a class="header-anchor" href="#finding-files"><span>Finding Files</span></a></h2><p>To search for files inside Vim using fzf.vim plugin, you can use the <code>:Files</code> method. Run <code>:Files</code> from Vim and you will be prompted with fzf search prompt.</p><p>Since you will be using this command frequently, it is good to have this mapped to a keyboard shortcut. I map mine to <code>Ctrl-f</code>. In my vimrc, I have this:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>nnoremap &lt;silent&gt; &lt;C-f&gt; :Files&lt;CR&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="finding-in-files" tabindex="-1"><a class="header-anchor" href="#finding-in-files"><span>Finding in Files</span></a></h2><p>To search inside files, you can use the <code>:Rg</code> command.</p><p>Again, since you will probably use this frequently, let&#39;s map it to a keyboard shortcut. I map mine to <code>&lt;Leader&gt;f</code>. The <code>&lt;Leader&gt;</code> key is mapped to <code>\</code> by default.</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>nnoremap &lt;silent&gt; &lt;Leader&gt;f :Rg&lt;CR&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="other-searches" tabindex="-1"><a class="header-anchor" href="#other-searches"><span>Other Searches</span></a></h2><p>Fzf.vim provides many other search commands. I won&#39;t go through each one of them here, but you can check them out <a href="https://github.com/junegunn/fzf.vim#commands" target="_blank" rel="noopener noreferrer">here</a>.</p><p>Here&#39;s what my fzf maps look like:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>nnoremap &lt;silent&gt; &lt;Leader&gt;b :Buffers&lt;CR&gt;</span></span>
<span class="line"><span>nnoremap &lt;silent&gt; &lt;C-f&gt; :Files&lt;CR&gt;</span></span>
<span class="line"><span>nnoremap &lt;silent&gt; &lt;Leader&gt;f :Rg&lt;CR&gt;</span></span>
<span class="line"><span>nnoremap &lt;silent&gt; &lt;Leader&gt;/ :BLines&lt;CR&gt;</span></span>
<span class="line"><span>nnoremap &lt;silent&gt; &lt;Leader&gt;&#39; :Marks&lt;CR&gt;</span></span>
<span class="line"><span>nnoremap &lt;silent&gt; &lt;Leader&gt;g :Commits&lt;CR&gt;</span></span>
<span class="line"><span>nnoremap &lt;silent&gt; &lt;Leader&gt;H :Helptags&lt;CR&gt;</span></span>
<span class="line"><span>nnoremap &lt;silent&gt; &lt;Leader&gt;hh :History&lt;CR&gt;</span></span>
<span class="line"><span>nnoremap &lt;silent&gt; &lt;Leader&gt;h: :History:&lt;CR&gt;</span></span>
<span class="line"><span>nnoremap &lt;silent&gt; &lt;Leader&gt;h/ :History/&lt;CR&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="replacing-grep-with-rg" tabindex="-1"><a class="header-anchor" href="#replacing-grep-with-rg"><span>Replacing Grep With Rg</span></a></h2><p>As mentioned earlier, Vim has two ways to search in files: <code>:vim</code> and <code>:grep</code>. <code>:grep</code> uses external search tool that you can reassign using the <code>grepprg</code> keyword. I will show you how to configure Vim to use ripgrep instead of terminal grep when running the <code>:grep</code> command.</p><p>Now let&#39;s setup <code>grepprg</code> so that the <code>:grep</code> Vim command uses ripgrep. Add this in your vimrc:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>set grepprg=rg\ --vimgrep\ --smart-case\ --follow</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Feel free to modify some of the options above! For more information on what the options above mean, check out <code>man rg</code>.</p><p>After you updated <code>grepprg</code>, now when you run <code>:grep</code>, it runs <code>rg --vimgrep --smart-case --follow</code> instead of <code>grep</code>. If you want to search for &quot;donut&quot; using ripgrep, you can now run a more succinct command <code>:grep &quot;donut&quot;</code> instead of <code>:grep &quot;donut&quot; . -R</code></p><p>Just like the old <code>:grep</code>, this new <code>:grep</code> also uses quickfix to display results.</p><p>You might wonder, &quot;Well, this is nice but I never used <code>:grep</code> in Vim, plus can&#39;t I just use <code>:Rg</code> to find phrases in files? When will I ever need to use <code>:grep</code>?</p><p>That is a very good question. You may need to use <code>:grep</code> in Vim to do search and replace in multiple files, which I will cover next.</p><h2 id="search-and-replace-in-multiple-files" tabindex="-1"><a class="header-anchor" href="#search-and-replace-in-multiple-files"><span>Search and Replace in Multiple Files</span></a></h2><p>Modern text editors like VSCode makes it very easy to search and replace a string across multiple files. In this section, I will show you two different methods to easily do that in Vim.</p><p>The first method is to replace <em>all</em> matching phrases in your project. You will need to use <code>:grep</code>. If you want to replace all instances of &quot;pizza&quot; with &quot;donut&quot;, here&#39;s what you do:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>:grep &quot;pizza&quot;</span></span>
<span class="line"><span>:cfdo %s/pizza/donut/g | update</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Let&#39;s break down the commands:</p><ol><li><code>:grep pizza</code> uses ripgrep to search for all instances of &quot;pizza&quot; (by the way, this would still work even if you didn&#39;t reassign <code>grepprg</code> to use ripgrep. You would have to do <code>:grep &quot;pizza&quot; . -R</code> instead of <code>:grep &quot;pizza&quot;</code>).</li><li><code>:cfdo</code> executes any command you pass to all files in your quickfix list. In this case, your command is the substitution command <code>%s/pizza/donut/g</code>. The pipe (<code>|</code>) is a chain operator. The <code>update</code> command saves each file after substitution. I will cover the substitute command in more depth in a later chapter.</li></ol><p>The second method is to search and replace in selected files. With this method, you can manually choose which files you want to perform select-and-replace on. Here is what you do:</p><ol><li>Clear your buffers first. It is imperative that your buffer list contains only the files you want to apply the replace on. You can either restart Vim or run <code>:%bd | e#</code> command (<code>%bd</code> deletes all the buffers and <code>e#</code> opens the file you were just on).</li><li>Run <code>:Files</code>.</li><li>Select all files you want to perform search-and-replace on. To select multiple files, use <code>&lt;Tab&gt;</code> / <code>&lt;Shift-Tab&gt;</code>. This is only possible if you have the multiple flag (<code>-m</code>) in <code>FZF_DEFAULT_OPTS</code>.</li><li>Run <code>:bufdo %s/pizza/donut/g | update</code>. The command <code>:bufdo %s/pizza/donut/g | update</code> looks similar to the earlier <code>:cfdo %s/pizza/donut/g | update</code> command. The difference is instead of substituting all quickfix entries (<code>:cfdo</code>), you are substituting all buffer entries (<code>:bufdo</code>).</li></ol><h2 id="learn-search-the-smart-way" tabindex="-1"><a class="header-anchor" href="#learn-search-the-smart-way"><span>Learn Search the Smart Way</span></a></h2><p>Searching is the bread-and-butter of text editing. Learning how to search well in Vim will improve your text editing workflow significantly.</p><p>Fzf.vim is a game-changer. I can&#39;t imagine using Vim without it. I think it is very important to have a good search tool when starting Vim. I&#39;ve seen people struggling to transition to Vim because it seems to be missing critical features modern text editors have, like an easy and powerful search feature. I hope this chapter will help you to make the transition to Vim easier.</p><p>You also just saw Vim&#39;s extensibility in action - the ability to extend search functionality with a plugin and an external program. In the future, keep in mind of what other features you wish to extend Vim with. Chances are, it&#39;s already in Vim, someone has created a plugin or there is a program for it already. Next, you&#39;ll learn about a very important topic in Vim: Vim grammar.</p></div><!----><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><span class="vp-meta-info" data-allow-mismatch="text">2025/1/30 13:00:40</span></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: raymond.lam@fanruan.com">Raymond.Lam</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/blog/vim/ch02.html" aria-label="Ch02. Buffers, Windows, and Tabs" iconsizing="both"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->Ch02. Buffers, Windows, and Tabs</div></a><a class="route-link auto-link next" href="/blog/vim/ch04_vim_grammar.html" aria-label="Ch04. Vim Grammar" iconsizing="both"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">Ch04. Vim Grammar<!----></div></a></nav><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;"><div style="display: flex;
align-items: center;
justify-content: center;
height: 96px"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);
--icon-size: 48px;
display: inline-block;
width: var(--icon-size);
height: var(--icon-size);
background-color: currentcolor;
-webkit-mask-image: var(--loading-icon);
mask-image: var(--loading-icon);
"></span></div></div><!----><!--]--></main><!--]--><!----></div><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/assets/app-LYoE2cxB.js" defer></script>
  </body>
</html>
